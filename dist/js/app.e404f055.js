(function(){"use strict";var e={9677:function(e,t,s){var o=s(9242),n=s(3396);const a=(0,n._)("header",null,[(0,n._)("h1",{class:"site-heading text-center text-faded d-none d-lg-block"},[(0,n._)("span",{class:"site-heading-upper text-primary mb-3"},"A Montana Ski Resort App"),(0,n._)("span",{class:"site-heading-lower"},"Last Best")])],-1),r={class:"navbar navbar-expand-lg navbar-dark py-lg-4",id:"mainNav"},i={class:"container"},l=(0,n._)("a",{class:"navbar-brand text-uppercase fw-bold d-lg-none",href:"/"},"Last Best",-1),c=(0,n._)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,n._)("span",{class:"navbar-toggler-icon"})],-1),d={class:"collapse navbar-collapse",id:"navbarSupportedContent"},u={class:"navbar-nav mx-auto"},h=(0,n.uE)('<li class="nav-item px-lg-4"><a class="nav-link text-uppercase" href="/">Home</a></li><li class="nav-item px-lg-4"><a class="nav-link text-uppercase" href="/resorts">Resorts</a></li><li class="nav-item px-lg-4"><a class="nav-link text-uppercase" href="/events">Events</a></li>',3),p={key:0,class:"nav-item px-lg-4"},_=(0,n.Uk)("Signup"),g={key:1,class:"nav-item px-lg-4"},m=(0,n.Uk)("Login"),w={class:"nav-item px-lg-4"},f=(0,n.Uk)(" Profile "),v={class:"nav-item px-lg-4"},y=(0,n.Uk)("Logout"),b=(0,n._)("footer",{class:"footer text-faded text-center py-5"},[(0,n._)("div",{class:"container"},[(0,n._)("p",{class:"m-0 small"})])],-1);function k(e,t,s,o,k,D){const x=(0,n.up)("router-link"),z=(0,n.up)("router-view");return(0,n.wg)(),(0,n.iD)(n.HY,null,[a,(0,n._)("nav",r,[(0,n._)("div",i,[l,c,(0,n._)("div",d,[(0,n._)("ul",u,[h,e.isLoggedIn?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("li",p,[e.isLoggedIn?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(x,{key:0,class:"nav-link text-uppercase",to:"/signup"},{default:(0,n.w5)((()=>[_])),_:1}))])),e.isLoggedIn?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)("li",g,[e.isLoggedIn?(0,n.kq)("",!0):((0,n.wg)(),(0,n.j4)(x,{key:0,class:"nav-link text-uppercase",to:"/login"},{default:(0,n.w5)((()=>[m])),_:1}))])),(0,n._)("li",w,[e.isLoggedIn?((0,n.wg)(),(0,n.j4)(x,{key:0,class:"nav-link text-uppercase",to:`/users/${e.user_id}`},{default:(0,n.w5)((()=>[f])),_:1},8,["to"])):(0,n.kq)("",!0)]),(0,n._)("li",v,[e.isLoggedIn?((0,n.wg)(),(0,n.j4)(x,{key:0,class:"nav-link text-uppercase",to:"/logout"},{default:(0,n.w5)((()=>[y])),_:1})):(0,n.kq)("",!0)])])])])]),(0,n.Wm)(z),b],64)}var D={data:function(){return{isLoggedIn:!1,user_id:null}},created:function(){this.user_id=localStorage.user_id},methods:{},watch:{$route:function(){this.isLoggedIn=!!localStorage.jwt}}},x=s(89);const z=(0,x.Z)(D,[["render",k]]);var T=z,R=s(678),S=s(7139);const C={class:"page-section clearfix"},U={class:"container"},j={class:"intro"},L=["src","alt"],O={class:"intro-text left-0 text-center bg-faded p-5 rounded"},P={class:"section-heading mb-4"},M=(0,n._)("span",{class:"section-heading-upper"},"Welcome Back",-1),I={class:"section-heading-lower"},B={class:"section-heading-upper"},Y=(0,n._)("p",{class:"mb-3"}," Did you ski or snowboard today? Rate your day and submit a conditions report to help community members get a sense of the current conditions. ",-1),F={class:"intro-button mx-auto"},E={class:"page-section cta"},$={class:"container"},H={class:"row"},N={class:"col-xl-9 mx-auto"},A={class:"cta-inner bg-faded text-center rounded"},Z={class:"section-heading mb-4"},V=(0,n._)("span",{class:"section-heading-upper"},"Resort of the Day",-1),W={class:"section-heading-lower"},K=(0,n._)("p",{class:"mb-3"},"A fun fact will be here. It will be interesting and/or cool.",-1),G={class:"table table-hover table-bordered"},J=(0,n._)("thead",{class:"thead-dark"},[(0,n._)("tr",null,[(0,n._)("th",{scope:"col"},"Resort"),(0,n._)("th",{scope:"col"},"Vertical"),(0,n._)("th",{scope:"col"},"Acres"),(0,n._)("th",{scope:"col"},"Elevation Top"),(0,n._)("th",{scope:"col"},"Elevation Base"),(0,n._)("th",{scope:"col"},"Avg Snowfall"),(0,n._)("th",{scope:"col"},"Chair lifts"),(0,n._)("th",{scope:"col"},"Surface Lifts"),(0,n._)("th",{scope:"col"},"Total lifts"),(0,n._)("th",{scope:"col"},"Terrain Park"),(0,n._)("th",{scope:"col"},"Night Skiing"),(0,n._)("th",{scope:"col"},"Ticket Price"),(0,n._)("th",{scope:"col"},"Opening Day"),(0,n._)("th",{scope:"col"},"Closing Day")])],-1),q={scope:"row"},Q=["onClick"],X=(0,n._)("div",null,[(0,n._)("div",{id:"map"})],-1),ee={id:"conditions-report"},te={method:"dialog",class:"conditions"},se=(0,n._)("h2",{class:"section-heading mb-4"},"How was it out there?",-1),oe=(0,n._)("label",{for:"resort"},"Resort:  ",-1),ne=["value"],ae=(0,n._)("p",null,null,-1),re=(0,n.Uk)(" Rate your day from 1 to 5 stars: "),ie=(0,n._)("p",null,null,-1),le=(0,n.Uk)(" Briefly describe today's conditions: "),ce=(0,n._)("p",null,null,-1),de=(0,n._)("p",null,null,-1),ue=(0,n.Uk)("   "),he=(0,n._)("button",{class:"btn btn-primary btn-lg btn-block"},"Cancel",-1);function pe(e,t,s,a,r,i){const l=(0,n.up)("star-rating");return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("section",C,[(0,n._)("div",U,[(0,n._)("div",j,[(0,n._)("a",{onClick:t[0]||(t[0]=t=>i.showResort(e.resortOfTheDay.id))},[(0,n._)("img",{class:"intro-img img-fluid mb-3 mb-lg-0 rounded",src:e.resortOfTheDay.image,alt:e.resortOfTheDay.name},null,8,L)]),(0,n._)("div",O,[(0,n._)("h2",P,[M,(0,n._)("span",I,(0,S.zw)(e.user.username),1),(0,n._)("span",B,"ski days: "+(0,S.zw)(e.user.days_skied),1)]),Y,(0,n._)("div",F,[(0,n._)("a",{class:"btn btn-primary btn-xl",onClick:t[1]||(t[1]=e=>i.createConditionsReport())},"Conditions Report")])])])])]),(0,n._)("section",E,[(0,n._)("div",$,[(0,n._)("div",H,[(0,n._)("div",N,[(0,n._)("div",A,[(0,n._)("h2",Z,[V,(0,n._)("span",W,[(0,n._)("a",{onClick:t[2]||(t[2]=t=>i.showResort(e.resortOfTheDay.id))},(0,S.zw)(e.resortOfTheDay.name),1)])]),K])])])])]),(0,n._)("table",G,[J,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.resorts,(e=>((0,n.wg)(),(0,n.iD)("tbody",{key:e.id},[(0,n._)("tr",null,[(0,n._)("th",q,[(0,n._)("a",{onClick:t=>i.showResort(e.id)},(0,S.zw)(e.name),9,Q)]),(0,n._)("td",null,(0,S.zw)(e.vertical)+"'",1),(0,n._)("td",null,(0,S.zw)(e.acres),1),(0,n._)("td",null,(0,S.zw)(e.elevation_top)+"'",1),(0,n._)("td",null,(0,S.zw)(e.elevation_base)+"'",1),(0,n._)("td",null,(0,S.zw)(e.avg_snowfall)+'"',1),(0,n._)("td",null,(0,S.zw)(e.chairlifts),1),(0,n._)("td",null,(0,S.zw)(e.surface_lifts),1),(0,n._)("td",null,(0,S.zw)(e.total_lifts),1),(0,n._)("td",null,(0,S.zw)(e.terrain_park),1),(0,n._)("td",null,(0,S.zw)(e.night_skiing),1),(0,n._)("td",null,"$"+(0,S.zw)(e.ticket_price),1),(0,n._)("td",null,(0,S.zw)(e.opening_day),1),(0,n._)("td",null,(0,S.zw)(e.closing_day),1)])])))),128))]),X,(0,n._)("dialog",ee,[(0,n._)("form",te,[se,oe,(0,n._)("select",{name:"resort",id:"",onChange:t[3]||(t[3]=e=>i.onChange(e))},[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.resorts,(e=>((0,n.wg)(),(0,n.iD)("option",{key:e.id,value:e.id},(0,S.zw)(e.name),9,ne)))),128))],32),ae,re,(0,n.Wm)(l,{"show-rating":!1,rating:e.newConditionsReport.rating,"onUpdate:rating":t[4]||(t[4]=t=>e.newConditionsReport.rating=t)},null,8,["rating"]),ie,(0,n._)("div",null,[le,ce,(0,n.wy)((0,n._)("textarea",{cols:"45","onUpdate:modelValue":t[5]||(t[5]=t=>e.newConditionsReport.comment=t)},null,512),[[o.nr,e.newConditionsReport.comment]]),de,(0,n._)("p",null,[(0,n._)("button",{type:"button",class:"btn btn-primary btn-lg btn-block",onClick:t[6]||(t[6]=e=>i.submitConditionsReport())}," Save "),ue,he])])])])],64)}var _e=s(6265),ge=s.n(_e),me=s(9056),we=s.n(me),fe={components:{StarRating:we()},data:function(){return{resorts:[],resort_id:"",resortOfTheDay:"",user:{},newConditionsReport:{},token:"pk.eyJ1IjoiYmFsbGluYmIiLCJhIjoiY2w0ZnRmcjc2MDB2ZjNicGNleGs3djhkdSJ9.lYex_nYgLLaSNFDQTe5NJw",places:[{lat:45.8174,lng:-110.8966,description:"Bridger Bowl"},{lat:45.2458,lng:-111.3745,description:"Yellowstone Club"},{lat:45.2857,lng:-111.4012,description:"Big Sky"},{lat:48.4806,lng:-114.3503,description:"Whitefish"},{lat:45.1908,lng:-109.3364,description:"Red Lodge"},{lat:45.6923,lng:-113.9521,description:"Lost Trail"},{lat:46.2496,lng:-113.2384,description:"Discovery"},{lat:46.7531,lng:-112.3135,description:"Great Divide"},{lat:47.0144,lng:-113.9996,description:"Montana Snowbowl"},{lat:45.4339,lng:-113.1286,description:"Maverick Mountain"},{lat:46.8384,lng:-110.7005,description:"Showdown"},{lat:48.0148,lng:-114.3696,description:"Blacktail Mountain"},{lat:48.605,lng:-115.6308,description:"Turner Mountain"},{lat:47.9298,lng:-112.811,description:"Teton Pass"},{lat:48.5184,lng:-109.1279,description:"Bear Paw Ski Bowl"},{lat:44.9751,lng:-109.4348,description:"Beartooth Basin"},{lat:47.456,lng:-115.69753,description:"Lookout Pass"}]}},created:function(){this.indexResorts(),this.showUser()},methods:{compare:function(e,t){return e.name<t.name?-1:e.name>t.name?1:0},indexResorts:function(){ge().get("/resorts.json").then((e=>{this.resorts=e.data,this.resorts=this.resorts.sort(this.compare),this.resortOfTheDay=this.resorts[Math.floor(Math.random()*this.resorts.length)],console.log("ROTD",this.resortOfTheDay),this.newConditionsReport.resort_id=this.resorts[0].id,this.newConditionsReport.user_id=localStorage.user_id,console.log("Resorts",e.data)}))},showUser:function(){ge().get("/users/"+localStorage.user_id+".json").then((e=>{this.user=e.data,console.log("Current user",e.data),localStorage.setItem("home_resort_id",e.data.home_resort_id)}))},showResort:function(e){this.$router.push("/resorts/"+e+".json")},createConditionsReport:function(){document.querySelector("#conditions-report").showModal(),this.isModalVisible=!0},submitConditionsReport:function(){this.resort_id=this.newConditionsReport.resort_id,ge().post("/conditions_reports",this.newConditionsReport).then((e=>{console.log("Success",e.data),this.$router.push("/resorts/"+this.resort_id+".json")})),ge().patch("/users/"+localStorage.user_id+".json"),this.newConditionsReport={}},onChange:function(e){this.newConditionsReport.resort_id=e.target.value}},mounted:function(){mapboxgl.accessToken=this.token;const e=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/outdoors-v11",center:[-112.2097,47],zoom:6});this.places.forEach((t=>{(new mapboxgl.Marker).setLngLat([t.lng,t.lat]).addTo(e),new mapboxgl.Popup({closeOnClick:!1}).setLngLat([t.lng,t.lat]).setHTML("<small>"+t.description+"</small>").addTo(e)})),console.log(e)}};const ve=(0,x.Z)(fe,[["render",pe]]);var ye=ve;const be={class:"table table-hover table-bordered"},ke=(0,n._)("thead",{class:"thead-dark"},[(0,n._)("tr",null,[(0,n._)("th",{scope:"col"},"Resort"),(0,n._)("th",{scope:"col"},"Vertical"),(0,n._)("th",{scope:"col"},"Acres"),(0,n._)("th",{scope:"col"},"Elevation Top"),(0,n._)("th",{scope:"col"},"Elevation Base"),(0,n._)("th",{scope:"col"},"Avg Snowfall"),(0,n._)("th",{scope:"col"},"Chair lifts"),(0,n._)("th",{scope:"col"},"Surface Lifts"),(0,n._)("th",{scope:"col"},"Total lifts"),(0,n._)("th",{scope:"col"},"Terrain Park"),(0,n._)("th",{scope:"col"},"Night Skiing"),(0,n._)("th",{scope:"col"},"Ticket Price"),(0,n._)("th",{scope:"col"},"Opening Day"),(0,n._)("th",{scope:"col"},"Closing Day")])],-1),De={scope:"row"},xe=["onClick"],ze=(0,n._)("div",null,[(0,n._)("div",{id:"map"})],-1);function Te(e,t,s,o,a,r){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("table",be,[ke,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.resorts,(e=>((0,n.wg)(),(0,n.iD)("tbody",{key:e.id},[(0,n._)("tr",null,[(0,n._)("th",De,[(0,n._)("a",{onClick:t=>r.showResort(e.id)},(0,S.zw)(e.name),9,xe)]),(0,n._)("td",null,(0,S.zw)(e.vertical)+"'",1),(0,n._)("td",null,(0,S.zw)(e.acres),1),(0,n._)("td",null,(0,S.zw)(e.elevation_top)+"'",1),(0,n._)("td",null,(0,S.zw)(e.elevation_base)+"'",1),(0,n._)("td",null,(0,S.zw)(e.avg_snowfall)+'"',1),(0,n._)("td",null,(0,S.zw)(e.chairlifts),1),(0,n._)("td",null,(0,S.zw)(e.surface_lifts),1),(0,n._)("td",null,(0,S.zw)(e.total_lifts),1),(0,n._)("td",null,(0,S.zw)(e.terrain_park),1),(0,n._)("td",null,(0,S.zw)(e.night_skiing),1),(0,n._)("td",null,"$"+(0,S.zw)(e.ticket_price),1),(0,n._)("td",null,(0,S.zw)(e.opening_day),1),(0,n._)("td",null,(0,S.zw)(e.closing_day),1)])])))),128))]),ze],64)}var Re={data:function(){return{resorts:[],token:"pk.eyJ1IjoiYmFsbGluYmIiLCJhIjoiY2w0ZnRmcjc2MDB2ZjNicGNleGs3djhkdSJ9.lYex_nYgLLaSNFDQTe5NJw",places:[{lat:45.8174,lng:-110.8966,description:"Bridger Bowl"},{lat:45.2458,lng:-111.3745,description:"Yellowstone Club"},{lat:45.2857,lng:-111.4012,description:"Big Sky"},{lat:48.4806,lng:-114.3503,description:"Whitefish"},{lat:45.1908,lng:-109.3364,description:"Red Lodge"},{lat:45.6923,lng:-113.9521,description:"Lost Trail"},{lat:46.2496,lng:-113.2384,description:"Discovery"},{lat:46.7531,lng:-112.3135,description:"Great Divide"},{lat:47.0144,lng:-113.9996,description:"Montana Snowbowl"},{lat:45.4339,lng:-113.1286,description:"Maverick Mountain"},{lat:46.8384,lng:-110.7005,description:"Showdown"},{lat:48.0148,lng:-114.3696,description:"Blacktail Mountain"},{lat:48.605,lng:-115.6308,description:"Turner Mountain"},{lat:47.9298,lng:-112.811,description:"Teton Pass"},{lat:48.5184,lng:-109.1279,description:"Bear Paw Ski Bowl"},{lat:44.9751,lng:-109.4348,description:"Beartooth Basin"},{lat:47.456,lng:-115.69753,description:"Lookout Pass"}]}},created:function(){this.indexResorts()},methods:{compare:function(e,t){return e.name<t.name?-1:e.name>t.name?1:0},indexResorts:function(){ge().get("/resorts.json").then((e=>{this.resorts=e.data,this.resorts=this.resorts.sort(this.compare),console.log("Resorts",e.data)}))},showResort:function(e){this.$router.push("/resorts/"+e+".json")}},mounted:function(){mapboxgl.accessToken=this.token;const e=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/outdoors-v11",center:[-112.2097,47],zoom:6});this.places.forEach((t=>{(new mapboxgl.Marker).setLngLat([t.lng,t.lat]).addTo(e),new mapboxgl.Popup({closeOnClick:!1}).setLngLat([t.lng,t.lat]).setHTML("<small>"+t.description+"</small>").addTo(e)})),console.log(e)}};const Se=(0,x.Z)(Re,[["render",Te]]);var Ce=Se;const Ue={class:"page-section"},je={class:"container"},Le={class:"product-item"},Oe={class:"product-item-title d-flex"},Pe={class:"bg-faded p-5 d-flex ms-auto rounded"},Me={class:"section-heading mb-0"},Ie={class:"section-heading-upper"},Be=(0,n.Uk)(" To Do "),Ye={class:"section-heading-upper"},Fe=(0,n.Uk)(" Favorite "),Ee=["src","alt"],$e={class:"product-item-description d-flex me-auto"},He={class:"bg-faded p-5 rounded"},Ne={class:"section-heading-upper"},Ae=["src"],Ze=(0,n.Uk)(" Currently: "),Ve=(0,n._)("br",null,null,-1),We=(0,n.Uk)(" Temp: "),Ke=(0,n.Uk)(" , Feels like: "),Ge=(0,n._)("p",null,null,-1),Je=(0,n._)("span",{class:"section-heading-lower"},[(0,n._)("h3",null,"3 Day Forecast")],-1),qe=(0,n.Uk)(" Temps: "),Qe=(0,n.Uk)(" / "),Xe=(0,n._)("br",null,null,-1),et=(0,n.Uk)(" Temps: "),tt=(0,n.Uk)(" / "),st=(0,n._)("br",null,null,-1),ot=(0,n.Uk)(" Temps: "),nt=(0,n.Uk)(" / "),at=(0,n._)("br",null,null,-1),rt={class:"table table-hover table-bordered"},it=(0,n._)("thead",{class:"thead-dark"},[(0,n._)("tr",null,[(0,n._)("th",{scope:"col"},"Resort"),(0,n._)("th",{scope:"col"},"Vertical"),(0,n._)("th",{scope:"col"},"Acres"),(0,n._)("th",{scope:"col"},"Elevation Top"),(0,n._)("th",{scope:"col"},"Elevation Base"),(0,n._)("th",{scope:"col"},"Avg Snowfall"),(0,n._)("th",{scope:"col"},"Chair lifts"),(0,n._)("th",{scope:"col"},"Surface Lifts"),(0,n._)("th",{scope:"col"},"Total lifts"),(0,n._)("th",{scope:"col"},"Terrain Park"),(0,n._)("th",{scope:"col"},"Night Skiing"),(0,n._)("th",{scope:"col"},"Ticket Price"),(0,n._)("th",{scope:"col"},"Opening Day"),(0,n._)("th",{scope:"col"},"Closing Day")])],-1),lt={class:"page-section cta"},ct={class:"container"},dt={class:"row"},ut={class:"col-xl-9 mx-auto"},ht={class:"cta-inner bg-faded text-center rounded"},pt={class:"section-heading mb-5"},_t={class:"section-heading-upper"},gt=(0,n._)("span",{class:"section-heading-lower"},"Recent conditions reports",-1),mt={class:"list-unstyled-item list-hours-item d-flex"},wt={class:"ms-auto"},ft={class:"list-unstyled-item list-hours-item d-flex"},vt={class:"page-section cta"},yt={class:"container"},bt={class:"row"},kt={class:"col-xl-9 mx-auto"},Dt={class:"cta-inner bg-faded text-center rounded"},xt={class:"section-heading mb-5"},zt={class:"section-heading-upper"},Tt=(0,n._)("span",{class:"section-heading-lower"},"Upcoming Events",-1),Rt={class:"list-unstyled-item list-hours-item d-flex"},St={class:"ms-auto"},Ct=["href"],Ut={class:"list-unstyled-item list-hours-item d-flex"},jt=(0,n._)("span",{class:"ms-auto"},"9:00 AM",-1);function Lt(e,t,s,a,r,i){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("section",Ue,[(0,n._)("div",je,[(0,n._)("div",Le,[(0,n._)("div",Oe,[(0,n._)("div",Pe,[(0,n._)("h2",Me,[(0,n._)("span",Ie,[(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":t[0]||(t[0]=t=>e.isToDo=t),onClick:t[1]||(t[1]=e=>i.toDoResort())},null,512),[[o.e8,e.isToDo]]),Be]),(0,n._)("span",Ye,[(0,n.wy)((0,n._)("input",{type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=t=>e.isFavorite=t),onClick:t[3]||(t[3]=e=>i.favoriteResort())},null,512),[[o.e8,e.isFavorite]]),Fe])])])]),(0,n._)("img",{class:"img-fluid rounded about-heading-img mb-3 mb-lg-0",src:e.resort.image,alt:e.resort.name},null,8,Ee),(0,n._)("div",$e,[(0,n._)("div",He,[(0,n._)("span",Ne,[(0,n._)("h1",null,(0,S.zw)(e.resort.name),1),(0,n._)("img",{src:e.currentWeatherIcon},null,8,Ae),Ze,(0,n._)("b",null,(0,S.zw)(e.currentWeather),1),Ve,We,(0,n._)("strong",null,(0,S.zw)(Math.round(e.currentTemp))+"°",1),Ke,(0,n._)("strong",null,(0,S.zw)(Math.round(e.currentFeelsLike))+"°",1),Ge,Je,(0,n.Uk)(" "+(0,S.zw)(this.forecastDayOneDate)+": ",1),(0,n._)("strong",null,(0,S.zw)(e.forecastDayOne.weather[0].description)+",",1),qe,(0,n._)("strong",null,(0,S.zw)(Math.round(e.forecastDayOne.temp.max))+"°",1),Qe,(0,n._)("strong",null,(0,S.zw)(Math.round(e.forecastDayOne.temp.min))+"°",1),Xe,(0,n.Uk)(" "+(0,S.zw)(this.forecastDayTwoDate)+": ",1),(0,n._)("strong",null,(0,S.zw)(e.forecastDayTwo.weather[0].description)+",",1),et,(0,n._)("strong",null,(0,S.zw)(Math.round(e.forecastDayTwo.temp.max))+"°",1),tt,(0,n._)("strong",null,(0,S.zw)(Math.round(e.forecastDayTwo.temp.min))+"°",1),st,(0,n.Uk)(" "+(0,S.zw)(this.forecastDayThreeDate)+": ",1),(0,n._)("strong",null,(0,S.zw)(e.forecastDayThree.weather[0].description)+",",1),ot,(0,n._)("strong",null,(0,S.zw)(Math.round(e.forecastDayThree.temp.max))+"°",1),nt,(0,n._)("strong",null,(0,S.zw)(Math.round(e.forecastDayThree.temp.min))+"°",1),at])])])])])]),(0,n._)("table",rt,[it,(0,n._)("tbody",null,[(0,n._)("tr",null,[(0,n._)("th",null,(0,S.zw)(e.resort.name),1),(0,n._)("td",null,(0,S.zw)(e.resort.vertical_gain)+"'",1),(0,n._)("td",null,(0,S.zw)(e.resort.acres),1),(0,n._)("td",null,(0,S.zw)(e.resort.elevation_top)+"'",1),(0,n._)("td",null,(0,S.zw)(e.resort.elevation_base)+"'",1),(0,n._)("td",null,(0,S.zw)(e.resort.average_snowfall)+'"',1),(0,n._)("td",null,(0,S.zw)(e.resort.chairlifts),1),(0,n._)("td",null,(0,S.zw)(e.resort.surface_lifts),1),(0,n._)("td",null,(0,S.zw)(e.resort.total_lifts),1),(0,n._)("td",null,(0,S.zw)(e.resort.terrain_park),1),(0,n._)("td",null,(0,S.zw)(e.resort.night_skiing),1),(0,n._)("td",null,"$"+(0,S.zw)(e.resort.ticket_price),1),(0,n._)("td",null,(0,S.zw)(e.resort.opening_day),1),(0,n._)("td",null,(0,S.zw)(e.resort.closing_day),1)])])]),(0,n._)("section",lt,[(0,n._)("div",ct,[(0,n._)("div",dt,[(0,n._)("div",ut,[(0,n._)("div",ht,[(0,n._)("h2",pt,[(0,n._)("span",_t,(0,S.zw)(e.resort.name),1),gt]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.conditions_reports,(e=>((0,n.wg)(),(0,n.iD)("ul",{class:"list-unstyled list-hours mb-5 text-left mx-auto",key:e.id},[(0,n._)("li",mt,[(0,n.Uk)((0,S.zw)(e.rating)+"/5 ",1),(0,n._)("span",wt,(0,S.zw)(e.reported_by)+" on "+(0,S.zw)(e.created_at),1)]),(0,n._)("li",ft,(0,S.zw)(e.comment),1)])))),128))])])])])]),(0,n._)("section",vt,[(0,n._)("div",yt,[(0,n._)("div",bt,[(0,n._)("div",kt,[(0,n._)("div",Dt,[(0,n._)("h2",xt,[(0,n._)("span",zt,(0,S.zw)(e.resort.name),1),Tt]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.events,(t=>((0,n.wg)(),(0,n.iD)("ul",{class:"list-unstyled list-hours mb-5 text-left mx-auto",key:t.id},[(0,n._)("li",Rt,[(0,n.Uk)((0,S.zw)(t.date)+" ",1),(0,n._)("span",St,[(0,n._)("a",{href:t.link},(0,S.zw)(t.name),9,Ct)])]),(0,n._)("li",Ut,[(0,n.Uk)((0,S.zw)(e.resort.name)+" ",1),jt])])))),128))])])])])])],64)}var Ot={data:function(){return{resort:{},resortName:"",events:[],conditions_reports:[],currentEvent:{},userToDos:[],userFavs:[],newTodoResort:{},toDoResortId:"",newFavResort:{},favResortId:"",isToDo:!1,isFavorite:!1,key:"e8c4a7ef5010d3341b6a986a3a027ac2",currentTemp:"",currentWeather:"",currentWeatherIcon:"",currentFeelsLike:"",forecast:{},forecastDayOne:{},forecastDayOneHigh:"",forecastDayTwo:{},forecastDayThree:{},splitString:[]}},created:function(){ge().get("/resorts/"+this.$route.params.id).then((e=>{this.resort=e.data,this.resortName=this.resort.name,this.events=this.resort.events,this.conditions_reports=this.resort.conditions_reports.reverse(),console.log(e.data),fetch("https://api.openweathermap.org/data/2.5/weather?lat="+this.resort.lat+"&lon="+this.resort.long+"&appid="+this.key+"&units=imperial").then((function(e){return e.json()})).then((e=>{console.log(e),this.currentWeather=e.weather[0].description,this.currentWeatherIcon="http://openweathermap.org/img/wn/"+e.weather[0].icon+"@2x.png",this.currentTemp=e.main.temp,this.currentFeelsLike=e.main.feels_like})),fetch("https://api.openweathermap.org/data/2.5/onecall?lat="+this.resort.lat+"&lon="+this.resort.long+"&lang={en}&units=imperial&exclude=current,minutely,hourly,alerts&appid="+this.key).then((function(e){return e.json()})).then((e=>{console.log(e),this.forecast=e;for(let t=0;t<3;t++)if(0===t){this.forecastDayOne=this.forecast.daily[t];let e=this.forecastDayOne.dt;this.forecastDayOneDate=new Date(1e3*e),this.forecastDayOneDate=this.forecastDayOneDate.getDay(),this.forecastDayOneDate=this.forecastDay(this.forecastDayOneDate)}else if(1===t){this.forecastDayTwo=this.forecast.daily[t];let e=this.forecastDayTwo.dt;this.forecastDayTwoDate=new Date(1e3*e),this.forecastDayTwoDate=this.forecastDayTwoDate.getDay(),this.forecastDayTwoDate=this.forecastDay(this.forecastDayTwoDate)}else if(2===t){this.forecastDayThree=this.forecast.daily[t];let e=this.forecastDayThree.dt;this.forecastDayThreeDate=new Date(1e3*e),this.forecastDayThreeDate=this.forecastDayThreeDate.getDay(),this.forecastDayThreeDate=this.forecastDay(this.forecastDayThreeDate)}}))})),ge().get("/users/"+localStorage.user_id+".json").then((e=>{this.userToDos=e.data.to_do_resorts,this.userFavs=e.data.favorite_resorts,this.userToDos.forEach((e=>{this.resortName===e.name&&(this.isToDo=!0,this.toDoResortId=e.id)})),this.userFavs.forEach((e=>{this.resortName===e.name&&(this.isFavorite=!0,this.favResortId=e.id)}))}))},methods:{showEvent:function(e){this.$router.push("/events/"+e+".json")},toDoResort:function(){0==this.isToDo?(this.newTodoResort.user_id=localStorage.user_id,this.newTodoResort.resort_id=this.resort.id,ge().post("/to_do_resorts/",this.newTodoResort).then((e=>{console.log("Success",e.data),this.toDoResortId=e.data.id}))):ge()["delete"]("/to_do_resorts/"+this.toDoResortId+".json").then((e=>{console.log("Success,",e.data)}))},favoriteResort:function(){0==this.isFavorite?(this.newFavResort.user_id=localStorage.user_id,this.newFavResort.resort_id=this.resort.id,ge().post("/favorite_resorts/",this.newFavResort).then((e=>{console.log("Success",e.data),this.favResortId=e.data.id}))):ge()["delete"]("/favorite_resorts/"+this.favResortId+".json").then((e=>{console.log("Success,",e.data)}))},forecastDay(e){return 1===e?"Monday":2===e?"Tuesday":3===e?"Wednesday":4===e?"Thursday":5===e?"Friday":6===e?"Saturday":"Sunday"}}};const Pt=(0,x.Z)(Ot,[["render",Lt]]);var Mt=Pt;const It={class:"events-show"};function Bt(e,t,s,o,a,r){return(0,n.wg)(),(0,n.iD)("div",It,[(0,n._)("h1",null,(0,S.zw)(e.event.name),1),(0,n._)("p",null,"Date: "+(0,S.zw)(e.event.date),1),(0,n._)("p",null,[(0,n._)("a",{onClick:t[0]||(t[0]=t=>r.showResort(e.event.resort_id))},(0,S.zw)(e.event.resort),1)]),(0,n._)("p",null,"Description: "+(0,S.zw)(e.event.description),1),(0,n._)("p",null,"Link: "+(0,S.zw)(e.event.link),1)])}var Yt={data:function(){return{event:[]}},created:function(){ge().get("/events/"+this.$route.params.id).then((e=>{this.event=e.data,console.log(e.data)}))},methods:{showResort:function(e){this.$router.push("/resorts/"+e+".json")}}};const Ft=(0,x.Z)(Yt,[["render",Bt]]);var Et=Ft;const $t={class:"page-section cta"},Ht={class:"container"},Nt={class:"row"},At={class:"col-xl-9 mx-auto"},Zt={class:"cta-inner bg-faded text-center rounded"},Vt=(0,n._)("h2",{class:"section-heading mb-5"},[(0,n._)("span",{class:"section-heading-upper"},"Montana Ski Resorts"),(0,n._)("span",{class:"section-heading-lower"},"All Upcoming Events")],-1),Wt={class:"list-unstyled-item list-hours-item d-flex"},Kt={class:"ms-auto"},Gt=["href"],Jt={class:"list-unstyled-item list-hours-item d-flex"},qt=["onClick"],Qt=(0,n._)("span",{class:"ms-auto"},"9:00 AM",-1);function Xt(e,t,s,o,a,r){return(0,n.wg)(),(0,n.iD)("body",null,[(0,n._)("section",$t,[(0,n._)("div",Ht,[(0,n._)("div",Nt,[(0,n._)("div",At,[(0,n._)("div",Zt,[Vt,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.events,(e=>((0,n.wg)(),(0,n.iD)("ul",{class:"list-unstyled list-hours mb-5 text-left mx-auto",key:e.id},[(0,n._)("li",Wt,[(0,n.Uk)((0,S.zw)(e.date)+" ",1),(0,n._)("span",Kt,[(0,n._)("a",{href:e.link},(0,S.zw)(e.name),9,Gt)])]),(0,n._)("li",Jt,[(0,n._)("a",{onClick:t=>r.showResort(e.resort_id)},(0,S.zw)(e.resort),9,qt),Qt])])))),128))])])])])])])}var es={data:function(){return{events:[]}},created:function(){this.indexEvents()},methods:{indexEvents:function(){ge().get("/events.json").then((e=>{this.events=e.data,this.events=this.events.sort(this.compare),console.log("Events",e.data)}))},showEvent:function(e){this.$router.push("/events/"+e+".json")},showResort:function(e){this.$router.push("/resorts/"+e+".json")},compare:function(e,t){return e.date<t.date?-1:e.date>t.date?1:0}}};const ts=(0,x.Z)(es,[["render",Xt]]);var ss=ts;const os={class:"signup"},ns=(0,n._)("h1",null,"Signup",-1),as=(0,n._)("label",null,"Create Username:",-1),rs=(0,n._)("label",null,"Email:",-1),is=(0,n._)("label",null,"Password:",-1),ls=(0,n._)("label",null,"Password confirmation:",-1),cs=(0,n._)("input",{type:"submit",value:"Submit"},null,-1);function ds(e,t,s,a,r,i){return(0,n.wg)(),(0,n.iD)("div",os,[(0,n._)("form",{onSubmit:t[4]||(t[4]=(0,o.iM)((e=>i.submit()),["prevent"]))},[ns,(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.errors,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e},(0,S.zw)(e),1)))),128))]),(0,n._)("div",null,[as,(0,n.wy)((0,n._)("input",{type:"username","onUpdate:modelValue":t[0]||(t[0]=t=>e.newUserParams.username=t)},null,512),[[o.nr,e.newUserParams.username]])]),(0,n._)("div",null,[rs,(0,n.wy)((0,n._)("input",{type:"email","onUpdate:modelValue":t[1]||(t[1]=t=>e.newUserParams.email=t)},null,512),[[o.nr,e.newUserParams.email]])]),(0,n._)("div",null,[is,(0,n.wy)((0,n._)("input",{type:"password","onUpdate:modelValue":t[2]||(t[2]=t=>e.newUserParams.password=t)},null,512),[[o.nr,e.newUserParams.password]])]),(0,n._)("div",null,[ls,(0,n.wy)((0,n._)("input",{type:"password","onUpdate:modelValue":t[3]||(t[3]=t=>e.newUserParams.password_confirmation=t)},null,512),[[o.nr,e.newUserParams.password_confirmation]])]),cs],32)])}var us={data:function(){return{newUserParams:{},errors:[]}},methods:{submit:function(){ge().post("/users",this.newUserParams).then((e=>{console.log(e.data),this.$router.push("/login")})).catch((e=>{this.errors=e.response.data.errors}))}}};const hs=(0,x.Z)(us,[["render",ds]]);var ps=hs;const _s={class:"login"},gs=(0,n._)("h1",null,"Login",-1),ms=(0,n._)("label",null,"Email:",-1),ws=(0,n._)("label",null,"Password:",-1),fs=(0,n._)("input",{type:"submit",value:"Submit"},null,-1);function vs(e,t,s,a,r,i){return(0,n.wg)(),(0,n.iD)("div",_s,[(0,n._)("form",{onSubmit:t[2]||(t[2]=(0,o.iM)((e=>i.submit()),["prevent"]))},[gs,(0,n._)("ul",null,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.errors,(e=>((0,n.wg)(),(0,n.iD)("li",{key:e},(0,S.zw)(e),1)))),128))]),(0,n._)("div",null,[ms,(0,n.wy)((0,n._)("input",{type:"email","onUpdate:modelValue":t[0]||(t[0]=t=>e.newSessionParams.email=t)},null,512),[[o.nr,e.newSessionParams.email]])]),(0,n._)("div",null,[ws,(0,n.wy)((0,n._)("input",{type:"password","onUpdate:modelValue":t[1]||(t[1]=t=>e.newSessionParams.password=t)},null,512),[[o.nr,e.newSessionParams.password]])]),fs],32)])}var ys={data:function(){return{newSessionParams:{},errors:[]}},methods:{submit:function(){ge().post("/sessions",this.newSessionParams).then((e=>{ge().defaults.headers.common.Authorization="Bearer "+e.data.jwt,localStorage.setItem("jwt",e.data.jwt),localStorage.setItem("user_id",e.data.user_id),console.log("user_id:",e.data.user_id),this.$router.push("/")})).catch((e=>{console.log(e.response),this.errors=["Invalid email or password."],this.email="",this.password=""}))}},watch:{$route:function(){this.isLoggedIn=!!localStorage.jwt}}};const bs=(0,x.Z)(ys,[["render",vs]]);var ks=bs;const Ds={class:"logout"};function xs(e,t,s,o,a,r){return(0,n.wg)(),(0,n.iD)("div",Ds)}var zs={created:function(){delete ge().defaults.headers.common.Authorization,localStorage.removeItem("jwt"),localStorage.removeItem("user_id"),localStorage.removeItem("home_resort_id"),this.$router.push("/")}};const Ts=(0,x.Z)(zs,[["render",xs]]);var Rs=Ts;const Ss={class:"page-section"},Cs={class:"container"},Us={class:"product-item"},js={class:"product-item-title d-flex"},Ls={class:"bg-faded p-5 d-flex me-auto rounded"},Os={class:"section-heading mb-0"},Ps={class:"section-heading-upper"},Ms={class:"section-heading-lower"},Is=(0,n._)("span",{class:"section-heading-upper"},"home resort:",-1),Bs=["src","alt"],Ys={class:"page-section cta"},Fs={class:"container"},Es={class:"row"},$s={class:"col-xl-9 mx-auto"},Hs={class:"cta-inner bg-faded text-center rounded"},Ns=(0,n._)("h2",{class:"section-heading mb-4"},[(0,n._)("span",{class:"section-heading-lower"},"Stats")],-1),As={class:"section-heading mb-4"},Zs={class:"section-heading-upper"},Vs=(0,n.uE)('<h2 class="section-heading mb-4"><span class="section-heading-upper">Days by rating</span></h2><p class="mb-0"> ⭐⭐⭐⭐⭐: 9 days, 39% <br> ⭐⭐⭐⭐: 8 days, 35% <br> ⭐⭐⭐: 3 days, 13% <br> ⭐⭐: 2 days, 9% <br> ⭐: 1 day, 4% </p><p></p><h2 class="section-heading mb-4"><span class="section-heading-upper">Days by Resort</span></h2><p class="mb-0"> Bridger Bowl: 18 days, 78% of total <br> ⭐⭐⭐⭐⭐: 9 ⭐⭐⭐⭐: 8 ⭐⭐⭐: 3 ⭐⭐: 2 ⭐: 1 <br> Big Sky: 3 days, 13% of total <br> ⭐⭐⭐⭐⭐: 2 ⭐⭐⭐⭐: 1 <br> Whitefish: 2 days, 9% of total <br> ⭐⭐⭐⭐: 2 </p>',5),Ws={class:"page-section cta"},Ks={class:"container"},Gs={class:"row"},Js={class:"col-xl-9 mx-auto"},qs={class:"cta-inner bg-faded text-center rounded"},Qs=(0,n._)("h2",{class:"section-heading mb-5"},[(0,n._)("span",{class:"section-heading-upper"},"To Do List:")],-1),Xs={class:"list-unstyled-item list-hours-item d-flex"},eo=["onClick"],to=(0,n._)("h2",{class:"section-heading mb-5"},[(0,n._)("span",{class:"section-heading-upper"},"Favorites List:")],-1),so={class:"list-unstyled-item list-hours-item d-flex"},oo=["onClick"];function no(e,t,s,o,a,r){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("section",Ss,[(0,n._)("div",Cs,[(0,n._)("div",Us,[(0,n._)("div",js,[(0,n._)("div",Ls,[(0,n._)("h2",Os,[(0,n._)("span",Ps,"ski days: "+(0,S.zw)(e.user.days_skied),1),(0,n._)("span",Ms,(0,S.zw)(e.user.username),1),Is,(0,n.Uk)(" "+(0,S.zw)(e.homeResort.name),1)])])]),(0,n._)("img",{class:"img-fluid rounded about-heading-img mb-3 mb-lg-0",src:e.homeResort.image,alt:e.homeResort.name},null,8,Bs)])])]),(0,n._)("section",Ys,[(0,n._)("div",Fs,[(0,n._)("div",Es,[(0,n._)("div",$s,[(0,n._)("div",Hs,[Ns,(0,n._)("h2",As,[(0,n._)("span",Zs,"Total ski days: "+(0,S.zw)(e.user.days_skied),1)]),Vs])])])])]),(0,n._)("section",Ws,[(0,n._)("div",Ks,[(0,n._)("div",Gs,[(0,n._)("div",Js,[(0,n._)("div",qs,[Qs,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.toDoResorts,(e=>((0,n.wg)(),(0,n.iD)("ul",{class:"list-unstyled list-hours mb-5 text-left mx-auto",key:e.id},[(0,n._)("li",Xs,[(0,n._)("a",{onClick:t=>r.showResort(e.resort_id)},(0,S.zw)(e.name),9,eo)])])))),128)),to,((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.favoriteResorts,(e=>((0,n.wg)(),(0,n.iD)("ul",{class:"list-unstyled list-hours mb-5 text-left mx-auto",key:e.id},[(0,n._)("li",so,[(0,n._)("a",{onClick:t=>r.showResort(e.resort_id)},(0,S.zw)(e.name),9,oo)])])))),128))])])])])])],64)}var ao={data:function(){return{message:"Profile Page",user:{},homeResort:{},toDoResorts:[],favoriteResorts:[]}},created:function(){ge().get("/users/"+this.$route.params.id+".json").then((e=>{this.user=e.data,console.log(e.data),this.toDoResorts=this.user.to_do_resorts,this.favoriteResorts=this.user.favorite_resorts,ge().get("/resorts/"+localStorage.home_resort_id+".json").then((e=>{this.homeResort=e.data,console.log("home resort",this.homeResort)}))}))},methods:{showResort:function(e){this.$router.push("/resorts/"+e+".json")}}};const ro=(0,x.Z)(ao,[["render",no]]);var io=ro;const lo=[{path:"/",name:"home",component:ye},{path:"/resorts/",name:"resorts-index",component:Ce},{path:"/resorts/:id",name:"resorts-show",component:Mt},{path:"/events/:id",name:"events-show",component:Et},{path:"/events/",name:"events-index",component:ss},{path:"/signup/",name:"signup",component:ps},{path:"/login/",name:"login",component:ks},{path:"/logout/",name:"logout",component:Rs},{path:"/users/:id",name:"profile",component:io}],co=(0,R.p7)({history:(0,R.PO)("/"),routes:lo});var uo=co;ge().defaults.baseURL="https://blooming-retreat-99979.herokuapp.com/";var ho=localStorage.getItem("jwt");ho&&(ge().defaults.headers.common.Authorization=`Bearer ${ho}`),(0,o.ri)(T).use(uo).mount("#app")}},t={};function s(o){var n=t[o];if(void 0!==n)return n.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,s),a.exports}s.m=e,function(){var e=[];s.O=function(t,o,n,a){if(!o){var r=1/0;for(d=0;d<e.length;d++){o=e[d][0],n=e[d][1],a=e[d][2];for(var i=!0,l=0;l<o.length;l++)(!1&a||r>=a)&&Object.keys(s.O).every((function(e){return s.O[e](o[l])}))?o.splice(l--,1):(i=!1,a<r&&(r=a));if(i){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[o,n,a]}}(),function(){s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,{a:t}),t}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,o){var n,a,r=o[0],i=o[1],l=o[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(n in i)s.o(i,n)&&(s.m[n]=i[n]);if(l)var d=l(s)}for(t&&t(o);c<r.length;c++)a=r[c],s.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return s.O(d)},o=self["webpackChunklast_best_frontend"]=self["webpackChunklast_best_frontend"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(9677)}));o=s.O(o)})();
//# sourceMappingURL=app.e404f055.js.map